define(["dojo/_base/declare","esri/layers/TiledMapServiceLayer","esri/SpatialReference","esri/geometry/Extent","esri/layers/TileInfo"],function(e,t){return e("BDTiledMapServiceLayer",t,{layertype:"vec",constructor:function(e){this.layertype=e.esriLayerType,this.spatialReference=new esri.SpatialReference(MapConfig.mapInitParams.bd_spatialReference),this.fullExtent=new esri.geometry.Extent({xmin:MapConfig.params_bd.fullExtent.xmin,ymin:MapConfig.params_bd.fullExtent.ymin,xmax:MapConfig.params_bd.fullExtent.xmax,ymax:MapConfig.params_bd.fullExtent.ymax,spatialReference:this.spatialReference}),this.initialExtent=this.fullExtent,this.tileInfo=new esri.layers.TileInfo(MapConfig.baiDu_Par),this.loaded=!0,this.onLoad(this)},getTileUrl:function(e,t,a){var i=e-1,l=parseInt(Math.pow(2,i)),n=a-l,s=l-1-t,r=(a+t)%8+1,p="";switch(this.layertype){case"vec":p="http://online"+r+".map.bdimg.com/tile/?qt=tile&x="+n+"&y="+s+"&z="+e+"&styles=pl&scaler=1&udt=20141103";break;case"img":p="http://shangetu"+r+".map.bdimg.com/it/u=x="+n+";y="+s+";z="+e+";v=009;type=sate&fm=46&udt=20141015";break;case"img_lab":p="http://online"+r+".map.bdimg.com/tile/?qt=tile&x="+n+"&y="+s+"&z="+e+"&styles=sl&udt=20141015";break;default:p="http://online"+r+".map.bdimg.com/tile/?qt=tile&x="+n+"&y="+s+"&z="+e+"&styles=pl&scaler=1&udt=20141103"}return p}})});